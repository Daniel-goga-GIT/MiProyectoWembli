{# templates/security/login.html.twig #}
{% extends 'base.html.twig' %}

{% block title %}Iniciar sesión - Proyecto Wembli{% endblock %}

{% block contenido %}
    <h1>Iniciar sesión</h1>

    {% if error %}
        <div style="color: red; margin-bottom: 1em;">
            {{ error.messageKey|trans(error.messageData, 'security') }}
        </div>
    {% endif %}

    {% if app.user %}
        <div style="margin-bottom: 1em;">
            Estás conectado como <strong>{{ app.user.userIdentifier }}</strong>,
            <a href="{{ path('logout') }}">Cerrar sesión</a>
        </div>
    {% endif %}

    <form method="post" action="{{ path('login') }}">
        <div style="margin-bottom: 0.5em;">
            <label for="username">Usuario</label><br>
            <input type="text"
                   id="username"
                   name="_username"
                   value="{{ last_username }}"
                   required
                   autofocus
                   autocomplete="username">
        </div>

        <div style="margin-bottom: 0.5em;">
            <label for="password">Contraseña</label><br>
            <input type="password"
                   id="password"
                   name="_password"
                   required
                   autocomplete="current-password">
        </div>

        <input type="hidden" name="_csrf_token" value="{{ csrf_token('authenticate') }}">

        <button type="submit" style="margin-top: 0.5em;">Entrar</button>
    </form>
{% endblock %}
