{% extends 'base.html.twig' %}

{% block title %}Productos - Wembli{% endblock %}

{% block contenido %}
<h2 style="color:#1E3A8A; margin-bottom:15px;">Lista de productos</h2>

{% if productos is not empty %}
    <table style="width:100%; border-collapse: collapse; text-align:left;">
        <thead>
            <tr style="background-color:#1E40AF; color:white;">
                <th style="padding:10px;">ID</th>
                <th>Nombre</th>
                <th>Precio</th>
                <th>Categor√≠a</th>
                <th>Creador</th>
                <th>Acci√≥n</th>
            </tr>
        </thead>
        <tbody>
            {% for producto in productos %}
                <tr style="border-bottom:1px solid #ccc;">
                    <td style="padding:8px;">{{ producto.id }}</td>
                    <td>{{ producto.nombre }}</td>
                    <td>{{ producto.precio|number_format(2, ',', '.') }} ‚Ç¨</td>
                    <td>{{ producto.categoria.nombre ?? 'Sin categor√≠a' }}</td>
                    <td>{{ producto.creador.login ?? 'Desconocido' }}</td>
                    <td>
                        {% if app.user %}
                            <a href="{{ path('anadir', {'id': producto.id}) }}" 
                               style="background-color:#10B981; color:white; padding:5px 10px; border-radius:5px; text-decoration:none;"
                               onmouseover="this.style.backgroundColor='#059669';" 
                               onmouseout="this.style.backgroundColor='#10B981';">
                               A√±adir a cesta
                            </a>
                        {% else %}
                            <span style="color: #aaa;">Inicia sesi√≥n para a√±adir</span>
                        {% endif %}
                    </td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
{% else %}
    <p>No hay productos disponibles üòÖ</p>
{% endif %}
{% endblock %}
